# Example board_devices.yaml configuration for LCD Display SPI device
# This shows how to integrate the LCD display SPI device into a board configuration
# All values shown are the actual default values from the device parser

# Example LCD Display SPI device configuration
- name: display_lcd          # The name of the device, must be unique
  chip: generic_lcd          # LCD chip type (e.g., st77916, st7789, ili9341, gc9a01)
  type: display_lcd_spi      # The type of the device, must be unique
  version: default
  dependencies:
    espressif/esp_lcd_generic: "*"  # Component dependency for the LCD chip
  config:
    swap_xy: false
    mirror_y: false
    mirror_x: false
    x_max: 320
    y_max: 240
    invert_color: false  # Invert color flag (default: false)
    need_reset: true     # Whether the LCD needs to reset during initialization (default: true)

    # esp_lcd_panel_io_spi_config_t fields for SPI communication
    io_spi_config:
      cs_gpio_num: -1                   # GPIO pin for Chip Select (default: -1)
      dc_gpio_num: -1                   # GPIO pin for Data/Command (default: -1)
      spi_mode: 0                       # Traditional SPI mode (0~3) (default: 0)
      pclk_hz: 40000000                 # Frequency of pixel clock (default: 40MHz)
      trans_queue_depth: 1              # Size of internal transaction queue (default: 1)
      lcd_cmd_bits: 8                   # Bit-width of LCD command (default: 8)
      lcd_param_bits: 8                 # Bit-width of LCD parameter (default: 8)
      cs_ena_pretrans: 0                # CS pre-transmission cycles (default: 0)
      cs_ena_posttrans: 0               # CS post-transmission cycles (default: 0)
      flags:
        dc_high_on_cmd: false           # DC level = 1 indicates command transfer (default: false)
        dc_low_on_data: false           # DC level = 0 indicates color data transfer (default: false)
        dc_low_on_param: false          # DC level = 0 indicates parameter transfer (default: false)
        octal_mode: false               # Octal mode (8 data lines) (default: false)
        quad_mode: false                # Quad mode (4 data lines) (default: false)
        sio_mode: false                 # Single line mode (default: false)
        lsb_first: false                # MSB first (default: false)
        cs_high_active: false           # CS line is low active (default: false)

      peripherals:
        - name: spi-1                   # SPI peripheral for LCD communication

    # esp_lcd_panel_dev_config_t fields for panel configuration
    lcd_panel_config:
      reset_gpio_num: -1                # Reset GPIO pin (default: -1)
      rgb_ele_order: "LCD_RGB_ELEMENT_ORDER_RGB"  # RGB element order (default: RGB)
      data_endian: "LCD_RGB_DATA_ENDIAN_BIG"      # Data endianness (default: BIG)
      bits_per_pixel: 16                # Bits per pixel (default: 16)
      flags:
        reset_active_high: false        # Reset pin active level (default: false)

      # Chip-specific configuration
      vendor_config: ""                 # Vendor-specific configuration (default: empty string)

# Configuration file for adapting the initialization of the spi lcd through the display_lcd device
- name: display_lcd
  chip: generic_lcd
  type: display_lcd                     # The type of the device, change it from "dev_display_lcd_spi" to "display_lcd"
  version: default
  sub_type: spi                         # Bus type for the LCD device, should be "spi" for dev_display_lcd_spi
  dependencies:
    espressif/esp_lcd_generic: "*"
  # The rest of the configuration remains unchanged
  config:
    swap_xy: false
    mirror_y: false
    mirror_x: false
    x_max: 320
    y_max: 240
    io_spi_config:
      cs_gpio_num: -1
      dc_gpio_num: -1
      spi_mode: 0
      pclk_hz: 40000000
      trans_queue_depth: 1
      lcd_cmd_bits: 8
      lcd_param_bits: 8
      cs_ena_pretrans: 0
      cs_ena_posttrans: 0
      flags:
        dc_high_on_cmd: false
        dc_low_on_data: false
        dc_low_on_param: false
        octal_mode: false
        quad_mode: false
        sio_mode: false
        lsb_first: false
        cs_high_active: false

      peripherals:
        - name: spi-1

    lcd_panel_config:
      reset_gpio_num: -1
      rgb_ele_order: "LCD_RGB_ELEMENT_ORDER_RGB"
      data_endian: "LCD_RGB_DATA_ENDIAN_BIG"
      bits_per_pixel: 16
      flags:
        reset_active_high: false

      vendor_config: ""
